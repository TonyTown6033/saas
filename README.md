# å¾®æœåŠ¡çƒ­æ’æ‹” SAAS å¹³å°

> ğŸš€ ä¸€ä¸ªæ”¯æŒåŠ¨æ€æœåŠ¡æ³¨å†Œå’Œçƒ­æ’æ‹”çš„ç°ä»£åŒ–å¾®æœåŠ¡ SAAS å¹³å°

åŸºäº **Vue 3 + FastAPI + PostgreSQL** æ„å»ºï¼Œæä¾›å®Œæ•´çš„ä¼ä¸šçº§å¤šç§Ÿæˆ·è§£å†³æ–¹æ¡ˆã€‚

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![Vue](https://img.shields.io/badge/Vue-3.0+-brightgreen.svg)](https://vuejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14+-blue.svg)](https://www.postgresql.org/)

## âœ¨ ç‰¹ç‚¹

- ğŸ”Œ **çƒ­æ’æ‹”æœåŠ¡**ï¼šæ— éœ€é‡å¯å³å¯åŠ¨æ€æ·»åŠ /ç§»é™¤å¾®æœåŠ¡
- ğŸ—ï¸ **å¾®æœåŠ¡æ¶æ„**ï¼šæœåŠ¡æ³¨å†Œä¸­å¿ƒã€API ç½‘å…³ã€æ ¸å¿ƒæœåŠ¡å®Œæ•´å®ç°
- ğŸ‘¥ **å¤šç§Ÿæˆ·æ”¯æŒ**ï¼šå†…ç½®ç§Ÿæˆ·éš”ç¦»å’Œç®¡ç†
- ğŸ” **ä¼ä¸šçº§è®¤è¯**ï¼šJWT è®¤è¯ + RBAC æƒé™æ§åˆ¶
- ğŸ“Š **è‡ªåŠ¨æœåŠ¡å‘ç°**ï¼šæœåŠ¡è‡ªåŠ¨æ³¨å†Œã€å¿ƒè·³ç›‘æ§ã€å¥åº·æ£€æŸ¥
- ğŸ“– **å®Œæ•´æ–‡æ¡£**ï¼šä»æ–°æ‰‹å…¥é—¨åˆ°ç”Ÿäº§éƒ¨ç½²çš„å…¨é¢æŒ‡å—
- ğŸ¨ **Vue 3 å‰ç«¯**ï¼šç°ä»£åŒ–ç®¡ç†ç•Œé¢

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker & Docker Composeï¼ˆæ¨èï¼‰
- æˆ– Python 3.11+ + PostgreSQL 14+ + Redis 7+

### 5 åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨

```bash
# å…‹éš†é¡¹ç›®
git clone <your-repo-url> SAAS
cd SAAS

# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆä½¿ç”¨ Dockerï¼‰
docker-compose up -d

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps

# è¿è¡Œç³»ç»Ÿæµ‹è¯•
bash scripts/test-system.sh
```

è®¿é—®æœåŠ¡ï¼š
- ğŸŒ **API ç½‘å…³**: http://localhost:8000/docs
- ğŸ“‹ **æœåŠ¡æ³¨å†Œä¸­å¿ƒ**: http://localhost:8001/docs
- ğŸ”‘ **æ ¸å¿ƒæœåŠ¡**: http://localhost:8002/docs
- ğŸ’» **å‰ç«¯ç•Œé¢**: http://localhost:5173

### æ‰‹åŠ¨å¯åŠ¨ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

è¯¦ç»†æ­¥éª¤è¯·æŸ¥çœ‹ [æ–°æ‰‹å®Œå…¨æŒ‡å—](./docs/æ–°æ‰‹å®Œå…¨æŒ‡å—.md)

## ğŸ“š æ–‡æ¡£

### æ–°æ‰‹å…¥é—¨
| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸ“ æ–°æ‰‹å®Œå…¨æŒ‡å—](./docs/æ–°æ‰‹å®Œå…¨æŒ‡å—.md) | **ä»é›¶å¼€å§‹çš„è¯¦ç»†æ•™ç¨‹ï¼ˆæ¨èï¼‰** |
| [âš¡ å¿«é€Ÿå¼€å§‹](./docs/QUICKSTART.md) | 5 åˆ†é’Ÿå¿«é€Ÿå¯åŠ¨ |
| [ğŸ“– å¼€å§‹ä½¿ç”¨](./GETTING_STARTED.md) | åŸºç¡€ä½¿ç”¨è¯´æ˜ |

### å¼€å‘æ–‡æ¡£
| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸ”Œ æ’ä»¶å¼€å‘æŒ‡å—](./docs/PLUGIN_DEVELOPMENT.md) | åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶ |
| [ğŸ“¡ API å‚è€ƒæ‰‹å†Œ](./docs/API_REFERENCE.md) | å®Œæ•´çš„ API æ–‡æ¡£å’Œç¤ºä¾‹ |
| [ğŸ—ï¸ æ¶æ„è®¾è®¡](./docs/ARCHITECTURE.md) | ç³»ç»Ÿæ¶æ„å’Œè®¾è®¡åŸç† |

### è¿ç»´æ–‡æ¡£
| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ğŸš€ ç”Ÿäº§éƒ¨ç½²æŒ‡å—](./docs/DEPLOYMENT.md) | Docker/K8s éƒ¨ç½²æœ€ä½³å®è·µ |
| [ğŸ”§ æ•…éšœæ’æŸ¥](./TROUBLESHOOTING.md) | å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ |

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           å‰ç«¯ (Vue Admin)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         API ç½‘å…³ (Gateway)                   â”‚
â”‚  - è·¯ç”±ç®¡ç†                                   â”‚
â”‚  - è´Ÿè½½å‡è¡¡                                   â”‚
â”‚  - è®¤è¯ä¸­é—´ä»¶                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœåŠ¡æ³¨å†Œä¸­å¿ƒ    â”‚   â”‚   æ ¸å¿ƒæœåŠ¡ (Core)   â”‚
â”‚  (Registry)    â”‚   â”‚   - ç§Ÿæˆ·ç®¡ç†         â”‚
â”‚  - æœåŠ¡å‘ç°     â”‚   â”‚   - é…ç½®ä¸­å¿ƒ         â”‚
â”‚  - å¥åº·æ£€æŸ¥     â”‚   â”‚   - ç”¨æˆ·ç®¡ç†         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        çƒ­æ’æ‹”å¾®æœåŠ¡ (Plugins)                 â”‚
â”‚  - è‡ªå®šä¹‰ä¸šåŠ¡æœåŠ¡                             â”‚
â”‚  - ç¬¬ä¸‰æ–¹é›†æˆ                                 â”‚
â”‚  - åŠ¨æ€æ³¨å†Œ/æ³¨é”€                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯æ ˆ

### åç«¯
- **FastAPI**: é«˜æ€§èƒ½å¼‚æ­¥ Web æ¡†æ¶
- **PostgreSQL**: ä¸»æ•°æ®åº“
- **SQLAlchemy**: ORM
- **Alembic**: æ•°æ®åº“è¿ç§»
- **Redis**: ç¼“å­˜å’Œä¼šè¯å­˜å‚¨
- **uvicorn**: ASGI æœåŠ¡å™¨

### å‰ç«¯
- **Vue 3**: å‰ç«¯æ¡†æ¶
- **Vite**: æ„å»ºå·¥å…·
- **Pinia**: çŠ¶æ€ç®¡ç†
- **Vue Router**: è·¯ç”±ç®¡ç†
- **Element Plus**: UI ç»„ä»¶åº“

### ç¯å¢ƒç®¡ç†
- **uv**: Python åŒ…ç®¡ç†
- **pyenv**: Python ç‰ˆæœ¬ç®¡ç†

## æ ¸å¿ƒç‰¹æ€§

### 1. æœåŠ¡æ³¨å†Œä¸å‘ç°
- å¾®æœåŠ¡è‡ªåŠ¨æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ
- å¥åº·æ£€æŸ¥å’Œè‡ªåŠ¨ä¸‹çº¿
- æœåŠ¡å…ƒæ•°æ®ç®¡ç†

### 2. åŠ¨æ€è·¯ç”±
- ç½‘å…³æ ¹æ®æ³¨å†Œä¸­å¿ƒåŠ¨æ€é…ç½®è·¯ç”±
- æ”¯æŒç‰ˆæœ¬æ§åˆ¶å’Œç°åº¦å‘å¸ƒ
- è‡ªåŠ¨è´Ÿè½½å‡è¡¡

### 3. å¤šç§Ÿæˆ·æ”¯æŒ
- ç§Ÿæˆ·éš”ç¦»
- æŒ‰ç§Ÿæˆ·åˆ†é…æœåŠ¡
- ç§Ÿæˆ·çº§é…ç½®

### 4. è®¤è¯æˆæƒ
- JWT è®¤è¯
- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)
- API å¯†é’¥ç®¡ç†

### 5. æ’ä»¶å¼€å‘
- æ ‡å‡†åŒ–æœåŠ¡æ¥å£
- æ’ä»¶ SDK
- ç¤ºä¾‹æ’ä»¶æ¨¡æ¿

## é¡¹ç›®ç»“æ„

```
SAAS/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ gateway/           # API ç½‘å…³
â”‚   â”œâ”€â”€ registry/          # æœåŠ¡æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒå¹³å°æœåŠ¡
â”‚   â”œâ”€â”€ auth/              # è®¤è¯æˆæƒæœåŠ¡
â”‚   â””â”€â”€ shared/            # å…±äº«ä»£ç 
â”‚       â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
â”‚       â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ schemas/       # Pydantic schemas
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ admin/             # ç®¡ç†åå°
â”œâ”€â”€ docker/                # Docker é…ç½®
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â””â”€â”€ examples/
    â””â”€â”€ plugins/           # ç¤ºä¾‹æ’ä»¶
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.11+
- Node.js 18+ï¼ˆå‰ç«¯å¼€å‘éœ€è¦ï¼‰
- PostgreSQL 14+
- Redis 7+ï¼ˆå¯é€‰ï¼‰

### æ–¹å¼ 1: Dockerï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### æ–¹å¼ 2: æœ¬åœ°å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
cd backend
uv venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
uv pip install -r requirements.txt

# 2. å¯åŠ¨æ•°æ®åº“ï¼ˆä½¿ç”¨ Dockerï¼‰
docker-compose up -d postgres redis

# 3. å¯åŠ¨æœåŠ¡ï¼ˆå¼€å¯ 3 ä¸ªç»ˆç«¯ï¼‰
# ç»ˆç«¯ 1: æ³¨å†Œä¸­å¿ƒ
cd backend/registry
python run.py

# ç»ˆç«¯ 2: ç½‘å…³
cd backend/gateway
python run.py

# ç»ˆç«¯ 3: æ ¸å¿ƒæœåŠ¡
cd backend/core
python run.py
```

### æ–¹å¼ 3: ä½¿ç”¨ Makefile

```bash
# å®‰è£…ä¾èµ–
make install

# å¯åŠ¨å¼€å‘ç¯å¢ƒ
make dev-start

# è¿è¡Œæµ‹è¯•
make test

# åœæ­¢æœåŠ¡
make dev-stop
```

> **é‡åˆ°é—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [TROUBLESHOOTING.md](./TROUBLESHOOTING.md) è·å–è¯¦ç»†çš„æ•…éšœæ’æŸ¥æŒ‡å—

### å‰ç«¯å¼€å‘

```bash
cd frontend/admin
npm install
npm run dev
```

### Docker éƒ¨ç½²

```bash
docker-compose up -d
```

## ğŸ® ç¤ºä¾‹æ’ä»¶

é¡¹ç›®åŒ…å«å¤šä¸ªç¤ºä¾‹æ’ä»¶å¸®åŠ©ä½ å¿«é€Ÿä¸Šæ‰‹ï¼š

| æ’ä»¶ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| demo-service | 8003 | åŸºç¡€ CRUD ç¤ºä¾‹ |
| dashboard-service | 8004 | ä»ªè¡¨æ¿å±•ç¤º |

### å¯åŠ¨æ¼”ç¤ºæœåŠ¡

```bash
# å¯åŠ¨æ¼”ç¤ºæœåŠ¡
cd examples/plugins/demo-service
python main.py

# é€šè¿‡ç½‘å…³è®¿é—®
curl http://localhost:8000/api/demo-service/items
```

## ğŸ› ï¸ å¼€å‘ä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶

åˆ›å»ºæ’ä»¶åªéœ€ 5 ä¸ªæ­¥éª¤ï¼š

```python
# 1. å®šä¹‰æœåŠ¡é…ç½®
SERVICE_CONFIG = {
    "name": "my-service",
    "port": 8100,
    # ...
}

# 2. åˆ›å»º FastAPI åº”ç”¨
app = FastAPI()

# 3. æ³¨å†Œåˆ°æœåŠ¡ä¸­å¿ƒ
await register_service()

# 4. å‘é€å¿ƒè·³ä¿æŒæ´»è·ƒ
asyncio.create_task(send_heartbeat())

# 5. å®ç°ä¸šåŠ¡é€»è¾‘
@app.get("/hello")
async def hello():
    return {"message": "Hello!"}
```

è¯¦ç»†æ•™ç¨‹ï¼š[æ’ä»¶å¼€å‘æŒ‡å—](./docs/PLUGIN_DEVELOPMENT.md)

## ğŸ§ª æµ‹è¯•

è¿è¡Œå®Œæ•´çš„ç³»ç»Ÿæµ‹è¯•ï¼š

```bash
bash scripts/test-system.sh
```

æµ‹è¯•åŒ…æ‹¬ï¼š
- âœ… æ•°æ®åº“è¿æ¥
- âœ… Redis è¿æ¥
- âœ… æœåŠ¡æ³¨å†Œ
- âœ… ç”¨æˆ·è®¤è¯
- âœ… API ç½‘å…³è·¯ç”±
- âœ… æ’ä»¶æœåŠ¡

## ğŸ“¦ ç”Ÿäº§éƒ¨ç½²

### ä½¿ç”¨ Docker Compose

```bash
# ç”Ÿäº§ç¯å¢ƒé…ç½®
docker-compose -f docker-compose.prod.yml up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# æ‰©å±•æœåŠ¡
docker-compose up -d --scale gateway=3
```

### ç¯å¢ƒå˜é‡é…ç½®

å…³é”®é…ç½®é¡¹ï¼š

```bash
# æ•°æ®åº“
DATABASE_URL=postgresql://user:pass@host:5432/dbname

# Redis
REDIS_URL=redis://host:6379/0

# JWT å¯†é’¥
SECRET_KEY=your-secret-key-here

# CORS é…ç½®
CORS_ORIGINS=https://yourdomain.com
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·æŸ¥çœ‹ä»¥ä¸‹æŒ‡å—ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ™ è‡´è°¢

- [FastAPI](https://fastapi.tiangolo.com/) - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- [Vue 3](https://vuejs.org/) - æ¸è¿›å¼ JavaScript æ¡†æ¶
- [PostgreSQL](https://www.postgresql.org/) - å¼ºå¤§çš„å¼€æºæ•°æ®åº“

---

**Happy Coding!** å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [æ–‡æ¡£](./docs) æˆ–æäº¤ [Issue](https://github.com/your-repo/issues)ã€‚
